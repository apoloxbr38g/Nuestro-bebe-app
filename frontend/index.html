<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>InterfazV1 — Sports Predictor</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- CSS externo -->
  <link rel="stylesheet" href="/assets/style.css?v=4">

  <!-- Estilos internos -->
  <style>
  :root{
    --bg:#0f0c12; --panel:#14111a; --muted:#9aa3af; --text:#e5e7eb;
    --brand:#9b5cff; --brand-2:#00d1ff; --ok:#34d399; --bad:#f87171;
    --card-glass: rgba(255,255,255,.04); --border: rgba(255,255,255,.08);
    --shadow: 0 10px 30px rgba(0,0,0,.35); --radius: 16px;
  }
  [data-theme="light"]{
    --bg:#f4f6fb; --panel:#ffffff; --text:#0f172a; --muted:#64748b;
    --card-glass: rgba(0,0,0,.03); --border: rgba(15,23,42,.08)
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:
      radial-gradient(1200px 800px at 20% -10%, rgba(155,92,255,.15), transparent 60%),
      radial-gradient(1000px 700px at 120% 20%, rgba(0,209,255,.12), transparent 55%),
      var(--bg);
    color:var(--text);
  }
  a{color:inherit;text-decoration:none}
  .app{display:grid; grid-template-columns: 260px 1fr; min-height:100vh}
  @media (max-width: 900px){
    .app{grid-template-columns: 1fr}
    aside{position:sticky; top:0; z-index:50}
  }

  /* Sidebar */
  aside{
    backdrop-filter:saturate(120%) blur(6px);
    background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
    border-right:1px solid var(--border)
  }
  .logo{display:flex;align-items:center; gap:10px; padding:18px 20px; border-bottom:1px solid var(--border)}
  .logo-mark{width:36px; height:36px; display:grid; place-items:center; border-radius:12px;
    background:linear-gradient(135deg, var(--brand), var(--brand-2)); box-shadow:0 6px 18px rgba(155,92,255,.35)}
  .logo strong{letter-spacing:.8px}
  nav{padding:10px}
  .nav-btn{
    width:100%; display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:10px 12px; margin:6px 0; border-radius:12px; color:#c9ced6; border:1px solid transparent; transition:.2s ease;
    background:transparent; cursor:pointer;
  }
  .nav-btn .left{display:flex; align-items:center; gap:12px}
  .nav-btn svg{opacity:.9}
  .nav-btn:hover{background:rgba(255,255,255,.05); color:white; border-color:var(--border); transform:translateY(-1px)}
  .nav-btn.active{
    background:linear-gradient(180deg, rgba(155,92,255,.20), rgba(155,92,255,.08));
    color:white; border-color:rgba(155,92,255,.35); box-shadow:0 8px 24px rgba(155,92,255,.18) inset
  }

  /* Topbar */
  header{
    display:flex; align-items:center; justify-content:space-between; gap:16px;
    padding:18px 22px; border-bottom:1px solid var(--border);
    background:rgba(0,0,0,.15); backdrop-filter:blur(8px)
  }
  .bell{position:relative; padding:10px; border-radius:12px; border:1px solid var(--border); background:transparent}
  .dot{position:absolute; right:8px; top:6px; width:8px; height:8px; border-radius:999px; background:var(--brand)}

  /* Views */
  .view{padding:22px}
  .hidden{display:none}
  .fade{animation:fade .25s ease}
  @keyframes fade{from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none}}

  /* Card & grids */
  .card{background:var(--card-glass); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow)}
  .card h2{font-size:16px; font-weight:600; margin:0}
  .card .head{display:flex; align-items:center; justify-content:space-between; padding:16px 16px 10px 16px}
  .card .body{padding:10px 16px 16px 16px}

  /* Home grid (izq: tablas, der: goleadores) */
  .grid-home{display:grid; grid-template-columns: 2fr 1fr; gap:22px}
  .col-left{display:flex; flex-direction:column; gap:22px}
  @media (max-width: 1100px){ .grid-home{grid-template-columns:1fr} }

  /* Tables */
  .table{width:100%; border-collapse:collapse; font-size:14px}
  .table th{
    color:#b1b8c5; font-weight:600; text-align:left; padding:10px 8px;
    border-bottom:1px solid var(--border); text-transform:uppercase; font-size:12px
  }
  .table td{padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.04)}
  .table tbody tr:nth-child(odd){ background: rgba(255,255,255,.02) }
  .table tbody tr:nth-child(even){ background: rgba(255,255,255,.00) }
  .table tr:hover{background:rgba(255,255,255,.05)}
  .table td.win{color: var(--ok); font-weight:600}
  .table td.loss{color: var(--bad); font-weight:600}
  .table td.draw{color: var(--muted)}
  .table td.score{font-weight:700; letter-spacing:.02em}

  /* Predicción (layout 3 columnas) */
  .cols3{display:grid; grid-template-columns: 1.2fr 1.4fr 1.2fr; gap:22px}
  @media (max-width: 1200px){ .cols3{grid-template-columns:1fr} }
  .field{display:grid; gap:6px; margin-bottom:12px}
  .input, .select{
    background:rgba(255,255,255,.06); border:1px solid var(--border); color:var(--text);
    border-radius:12px; padding:10px 12px; outline:none
  }
  .btn{
    display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:12px 14px;
    border-radius:12px; border:1px solid rgba(0,0,0,.0);
    background:linear-gradient(90deg, var(--brand), var(--brand-2));
    color:white; font-weight:600; box-shadow:0 8px 24px rgba(0,209,255,.15); cursor:pointer
  }
  .pill{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:rgba(255,255,255,.03)}

  /* ===== Barras verticales 1X2 ===== */
  .vbars{display:flex; align-items:flex-end; gap:26px; height:280px; padding:4px 8px 0}
  .vbars .vcol{flex:1; display:flex; flex-direction:column; align-items:center}
  .vbars .vcol .bar{
    width:60px; height:8%;
    background:linear-gradient(180deg, rgba(155,92,255,.75), rgba(0,209,255,.55));
    border-radius:12px 12px 8px 8px; box-shadow: inset 0 -8px 16px rgba(0,0,0,.25);
    transition:height .35s ease;
  }
  .vbars .name{margin-top:8px; color:#b1b8c5; font-size:12px}
  .vbars .val{margin-top:2px; font-weight:700}

  /* ===== Barras horizontales (OU/BTTS) ===== */
  .hbars{margin-top:8px}
  .hrow{
    display:grid; grid-template-columns:120px 1fr 52px;
    gap:10px; align-items:center; margin:8px 0;
  }
  .hrow .fill{
    height:12px; border-radius:999px; width:0%;
    background:linear-gradient(90deg, var(--brand), var(--brand-2));
    transition: width .35s ease;
  }

  /* ===== Pildoritas (columna derecha) ===== */
  .sysgrid{
    display:grid; grid-template-columns: repeat(2, minmax(0,1fr));
    gap:12px;
  }
  .pillstat{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px; border-radius:14px;
    border:1px solid var(--border); background:rgba(255,255,255,.03);
  }
  .pillstat .k{color:#b1b8c5; font-size:12px}
  .pillstat .v{font-weight:700}

  /* Pretty scrollbars */
  ::-webkit-scrollbar{height:10px; width:10px}
  ::-webkit-scrollbar-thumb{background:linear-gradient(180deg, var(--brand), var(--brand-2)); border-radius:12px}
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside>
      <div class="logo" style="justify-content:center; display:flex; padding:20px;">
        <img src="/assets/logo.png" alt="Logo" style="width:180px; height:auto;" />
      </div>
      <nav>
        <button class="nav-btn active" data-page="home">
          <span class="left">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12l9-9 9 9"/><path d="M9 21V9h6v12"/></svg>
            <span>Home</span>
          </span>
          <span class="pill">Inicio</span>
        </button>
        <button class="nav-btn" data-page="prediccion">
          <span class="left">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3h18v4H3z"/><path d="M8 7v14M16 7v14"/></svg>
            <span>Predicción</span>
          </span>
          <span class="pill">Nuevo</span>
        </button>
        <button class="nav-btn" data-page="estado">
          <span class="left">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
            <span>Estado del Sistema</span>
          </span>
        </button>
        <button class="nav-btn" data-page="config">
          <span class="left">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.04 3.3l.06.06a1.65 1.65 0 0 0 1.82.33H9A1.65 1.65 0 0 0 10.51 2.2V2a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .66.39 1.26 1 1.51.31.13.65.2 1 .2A2 2 0 1 1 22 15h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
            <span>Configuración</span>
          </span>
        </button>
      </nav>
    </aside>

<!-- Main -->
<div>
  <header>
  <div>
    <div id="title" style="font-size:22px; font-weight:700">Bienvenido, Usuario..</div>
    <div id="subtitle" style="color:var(--muted); font-size:12px; margin-top:2px">Bienvenido, nos alegra volver a verte!!!</div>
  </div>
  <div style="display:flex; gap:10px; align-items:center">
    <button id="theme-toggle" class="pill" type="button" title="Cambiar tema">🌓 Tema</button>
    <button class="bell" aria-label="Notificaciones">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
      <span class="dot"></span>
    </button>

    <!-- 🔑 Login compact -->
    <div id="login-box" style="display:flex; gap:6px; align-items:center;">
      <input id="login-user"  class="input" placeholder="Usuario" style="width:120px">
      <input id="login-pass"  class="input" type="password" placeholder="Contraseña" style="width:120px">
      <button id="login-submit" class="pill" type="button">Iniciar</button>
      <button id="btn-logout" class="pill" type="button" style="display:none">Salir</button>
      <span id="login-error" style="color:#f87171; font-size:12px"></span>
    </div>
  </div>
</header>

      <!-- HOME -->
      <section id="view-home" class="view fade">
        <div class="grid-home">
          <!-- COLUMNA IZQUIERDA: Resultados + Fixtures -->
          <div class="col-left">
            <!-- Últimos resultados -->
            <section class="card">
              <div class="head">
                <h2>Últimos 10 resultados</h2>
              </div>
              <div class="body" style="overflow:auto">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Fecha</th><th>Liga</th><th>Local</th><th>Marcador</th><th>Visita</th>
                    </tr>
                  </thead>
                  <tbody id="rows-results"></tbody>
                </table>
              </div>
            </section>

            <!-- Próximos partidos -->
            <section class="card">
              <div class="head">
                <h2>Próximos 5 partidos</h2>
              </div>
              <div class="body" style="overflow:auto">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Fecha</th><th>Liga</th><th>Local</th><th>Visita</th><th>Estado</th>
                    </tr>
                  </thead>
                  <tbody id="rows-fixtures"></tbody>
                </table>
              </div>
            </section>
          </div>

          <!-- COLUMNA DERECHA: Top Scorer dinámico -->
          <aside class="card">
            <div class="head">
              <h2>Top Scorer</h2>
            </div>
            <div class="body" id="topscorers">Cargando goleadores…</div>
          </aside>
        </div>
      </section>

      <!-- PREDICCIÓN -->
      <section id="view-prediccion" class="view hidden">
        <div class="cols3">
          <!-- 1) Configuración -->
          <div class="card">
            <div class="head">
              <h2>Configura tu predicción</h2>
              <button class="pill" id="btn-load-leagues" type="button">Cargar ligas</button>
            </div>
            <div class="body">
              <div class="field">
                <label for="sel-league">Liga</label>
                <select class="select" id="sel-league"></select>
              </div>
              <div class="field">
                <label for="sel-home">Local</label>
                <select class="select" id="sel-home"></select>
              </div>
              <div class="field">
                <label for="sel-away">Visita</label>
                <select class="select" id="sel-away"></select>
              </div>
              <button class="btn" id="btn-predict">⚡ Predecir partido</button>
              <div style="color:var(--muted); font-size:12px; margin-top:8px">Equipos desde dataset local.</div>
            </div>
          </div>

          <!-- 2) Barras verticales 1X2 -->
          <div class="card">
            <div class="head"><h2>Distribución de probabilidades</h2></div>
            <div class="body">
              <div class="vbars" id="vbars-1x2">
                <div class="vcol">
                  <div class="bar" id="vbar-home"></div>
                  <div class="name">Local</div>
                  <div class="val" id="vlab-home">—</div>
                </div>
                <div class="vcol">
                  <div class="bar" id="vbar-draw"></div>
                  <div class="name">Empate</div>
                  <div class="val" id="vlab-draw">—</div>
                </div>
                <div class="vcol">
                  <div class="bar" id="vbar-away"></div>
                  <div class="name">Visita</div>
                  <div class="val" id="vlab-away">—</div>
                </div>
              </div>
            </div>
          </div>

          <!-- 3) Columna derecha: OU/BTTS + Pildoritas -->
          <div class="card" id="results">
            <div class="head"><h2>Mercados adicionales</h2></div>
            <div class="body">
              <h3 style="margin:6px 0 4px">Over/Under 2.5</h3>
              <div class="hbars">
                <div class="hrow">
                  <span>Over 2.5</span>
                  <div class="fill" id="bar-ou-over"></div>
                  <span id="lab-ou-over">—</span>
                </div>
                <div class="hrow">
                  <span>Under 2.5</span>
                  <div class="fill" id="bar-ou-under"></div>
                  <span id="lab-ou-under">—</span>
                </div>
              </div>

              <h3 style="margin:14px 0 6px">BTTS</h3>
              <div class="hbars">
                <div class="hrow">
                  <span>Sí</span>
                  <div class="fill" id="bar-btts-yes"></div>
                  <span id="lab-btts-yes">—</span>
                </div>
                <div class="hrow">
                  <span>No</span>
                  <div class="fill" id="bar-btts-no"></div>
                  <span id="lab-btts-no">—</span>
                </div>
              </div>

              <h3 style="margin:14px 0 10px">Resumen</h3>
              <div class="sysgrid">
                <div class="pillstat"><span class="k">⚽ XG Local</span><span class="v" id="stat-xg-h">—</span></div>
                <div class="pillstat"><span class="k">⚽ XG Visita</span><span class="v" id="stat-xg-a">—</span></div>
                <div class="pillstat"><span class="k">Σ XG</span><span class="v" id="stat-xg-t">—</span></div>

                <div class="pillstat"><span class="k">Over 2.5</span><span class="v" id="stat-ou-o">—</span></div>
                <div class="pillstat"><span class="k">Under 2.5</span><span class="v" id="stat-ou-u">—</span></div>

                <div class="pillstat"><span class="k">BTTS Sí</span><span class="v" id="stat-btts-y">—</span></div>
                <div class="pillstat"><span class="k">BTTS No</span><span class="v" id="stat-btts-n">—</span></div>

                <div class="pillstat"><span class="k">Córners L</span><span class="v" id="stat-c-h">—</span></div>
                <div class="pillstat"><span class="k">Córners V</span><span class="v" id="stat-c-a">—</span></div>

                <div class="pillstat"><span class="k">Amarillas L</span><span class="v" id="stat-y-h">—</span></div>
                <div class="pillstat"><span class="k">Amarillas V</span><span class="v" id="stat-y-a">—</span></div>

                <div class="pillstat"><span class="k">Rojas L</span><span class="v" id="stat-r-h">—</span></div>
                <div class="pillstat"><span class="k">Rojas V</span><span class="v" id="stat-r-a">—</span></div>
              </div>
            </div>
          </div>
        </div>
      </section>

<!-- ESTADO DEL SISTEMA -->
<section id="view-estado" class="view hidden">
  <div class="card">
    <div class="head">
      <h2>Estado del Sistema</h2>
      <button class="pill" id="btn-refresh-status" type="button">🔄 Refrescar</button>
    </div>
    <div class="body">
      <div id="system-status" class="status-box">
        Cargando estado del sistema…
      </div>
    </div>
  </div>
</section>

<!-- CONFIG (vacía por ahora, solo para que no quede huérfano el botón) -->
<section id="view-config" class="view hidden">
  <div class="card">
    <div class="head"><h2>Configuración</h2></div>
    <div class="body">Próximamente…</div>
  </div>
</section>

    </div>
  </div>

  <!-- Tu JS -->
  <script src="/assets/app.js?v=21"></script>

  <script>
    // Tema oscuro/claro
    (function () {
      const t = localStorage.getItem('sp-theme');
      if (t) document.documentElement.setAttribute('data-theme', t);
      document.getElementById('theme-toggle')?.addEventListener('click', () => {
        const curr = document.documentElement.getAttribute('data-theme') || 'dark';
        const next = curr === 'light' ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', next);
        localStorage.setItem('sp-theme', next);
      });
    })();
  </script>
</body>
</html>
